@startuml cas

skinparam actorStyle awesome
skinparam usecase {
    BackgroundColor #E8F4F8
    BorderColor #3498DB
}

title Diagramme de cas d'utilisation - QuizLearn (Complet)

left to right direction

' Acteurs
actor "Administrateur" as Admin
actor "Formateur" as Formateur
actor "Apprenant" as Apprenant

' Héritage
Admin -up-|> Formateur
Formateur -up-|> Apprenant

rectangle "QuizLearn System" {
    
    ' === GESTION DES COMPTES ===
    package "Gestion des comptes" {
        usecase "S'authentifier" as UC1
        usecase "Créer un compte" as UC2
        usecase "Modifier son profil" as UC3
        usecase "Réinitialiser mot de passe" as UC4
    }
    
    ' === GESTION DES QUIZ (Formateur) ===
    package "Gestion des quiz" {
        usecase "Créer un quiz" as UC5
        usecase "Modifier un quiz" as UC6
        usecase "Supprimer un quiz" as UC7
        usecase "Dupliquer un quiz" as UC8
        usecase "Ajouter des questions" as UC9
        usecase "Configurer le barème" as UC10
        usecase "Définir la durée" as UC11
        usecase "Publier un quiz" as UC12
        usecase "Archiver un quiz" as UC13
        usecase "Générer code d'accès" as UC14
        usecase "Générer QR code" as UC15
    }
    
    ' === GESTION DES SESSIONS ===
    package "Gestion des sessions" {
        usecase "Créer un groupe" as UC16
        usecase "Ajouter des apprenants" as UC17
        usecase "Retirer des apprenants" as UC18
        usecase "Assigner un quiz" as UC19
        usecase "Définir période d'accès" as UC20
    }
    
    ' === PASSAGE DU QUIZ (Apprenant) ===
    package "Passage du quiz" {
        usecase "Accéder via code/lien" as UC21
        usecase "Répondre aux questions" as UC22
        usecase "Voir progression" as UC23
        usecase "Voir chronomètre" as UC24
        usecase "Soumettre les réponses" as UC25
        usecase "Voir son score" as UC26
        usecase "Voir les corrections" as UC27
        usecase "Consulter historique" as UC28
    }
    
    ' === SUIVI ET STATISTIQUES ===
    package "Suivi et statistiques" {
        usecase "Voir résultats d'un quiz" as UC29
        usecase "Voir résultats par apprenant" as UC30
        usecase "Voir résultats par groupe" as UC31
        usecase "Calculer moyenne des scores" as UC32
        usecase "Voir temps moyen" as UC33
        usecase "Voir taux de réussite" as UC34
        usecase "Exporter résultats CSV" as UC35
        usecase "Exporter résultats PDF" as UC36
        usecase "Consulter tableau de bord" as UC37
    }
    
    ' === ADMINISTRATION ===
    package "Administration système" {
        usecase "Gérer les utilisateurs" as UC38
        usecase "Attribuer des rôles" as UC39
        usecase "Supprimer un utilisateur" as UC40
        usecase "Consulter logs système" as UC41
        usecase "Gérer données RGPD" as UC42
        usecase "Configurer paramètres" as UC43
    }
}

' === RELATIONS APPRENANT ===
Apprenant --> UC1
Apprenant --> UC2
Apprenant --> UC3
Apprenant --> UC4
Apprenant --> UC21
Apprenant --> UC22
Apprenant --> UC23
Apprenant --> UC24
Apprenant --> UC25
Apprenant --> UC26
Apprenant --> UC27
Apprenant --> UC28

' === RELATIONS FORMATEUR ===
Formateur --> UC5
Formateur --> UC6
Formateur --> UC7
Formateur --> UC8
Formateur --> UC9
Formateur --> UC10
Formateur --> UC11
Formateur --> UC12
Formateur --> UC13
Formateur --> UC14
Formateur --> UC15
Formateur --> UC16
Formateur --> UC17
Formateur --> UC18
Formateur --> UC19
Formateur --> UC20
Formateur --> UC29
Formateur --> UC30
Formateur --> UC31
Formateur --> UC32
Formateur --> UC33
Formateur --> UC34
Formateur --> UC35
Formateur --> UC36
Formateur --> UC37

' === RELATIONS ADMINISTRATEUR ===
Admin --> UC38
Admin --> UC39
Admin --> UC40
Admin --> UC41
Admin --> UC42
Admin --> UC43

' === RELATIONS INCLUDE/EXTEND ===
UC5 ..> UC9 : <<include>>
UC5 ..> UC10 : <<include>>
UC12 ..> UC14 : <<include>>
UC12 ..> UC15 : <<extend>>
UC22 ..> UC23 : <<include>>
UC22 ..> UC24 : <<include>>
UC25 ..> UC26 : <<include>>
UC29 ..> UC32 : <<include>>
UC29 ..> UC33 : <<include>>
UC29 ..> UC34 : <<include>>

@enduml